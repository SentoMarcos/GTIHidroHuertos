<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Técnico-Testeo</title>
    <meta name="viewport" content="width=device-width, shrink-to-fit, initial-scale=1">

    <!--Carga CSS bootstrap -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css"
          integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <link href="https://cdn.jsdelivr.net/gh/gitbrent/bootstrap4-toggle@3.6.1/css/bootstrap4-toggle.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/gh/gitbrent/bootstrap4-toggle@3.6.1/js/bootstrap4-toggle.min.js"></script>



    <link rel="stylesheet" href="../css/tecnico.css">
</head>

<body>
<!----------------------------------------->
<!---------Inicio Sección Cabecera--------->
<!----------------------------------------->
<header class="encabezado" role="banner"> <!--que rol esta desempenyando-->
    <div class="logo"><a href="../../index.html"><img src="../../img/logo.jpeg" alt="logo GTI"></a></div>
    <!--aqui va el boton cerrar sesion-->
    <div><button type="button" class="boton-cerrarsesion" id="boton-cerrarsesion">Cerrar sesión</button></div>
</header>

<!----------------------------------------->
<!-----Inicio Seccion Cabecera Test-------->
<!----------------------------------------->
<div class="contenedorSuperiorTest">
    <div><i class="bi bi-arrow-return-left"></i></div>
    <h2>Testeo</h2>
</div>

<!----------------------------------------->
<!---------Inicio Sección Tabla------------>
<!----------------------------------------->
<section class="contenedorTabla">
    <table class="tablaTecnico">
        <thead>
        <tr>
            <th><div class="add"><p>+</p></div></th> <!--Botón Anyadir -->
            <th>Tipo de sensor</th>
            <th>Estado</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <!--Icono graph -->
            <td> <i class="bi bi-bar-chart-fill"></i> </td>
            <td>Humedad</td>
            <!-- Toogle -->
            <td class="toggle"> <input type="checkbox" id="switch1"/>
                <label for="switch1">Toggle</label>
                <p>ERROR</p>
            </td>
        </tr>
        <tr>
            <!--Icono graph -->
            <td> <i class="bi bi-bar-chart-fill"></i> </td>
            <td>Temperatura</td>
            <!-- Toogle -->
            <td class="toggle"> <input type="checkbox" id="switch2"/>
                <label for="switch2">Toggle</label>
                <p>ERROR</p>
            </td>
        </tr>
        <tr>
            <!--Icono graph -->
            <td> <i class="bi bi-bar-chart-fill"></i> </td>            <td>pH</td>
            <!-- Toogle -->
            <td class="toggle"> <input type="checkbox" id="switch3"/>
                <label for="switch3">Toggle</label>
                <p>ERROR</p>
            </td>
        </tr>
        <tr>
            <!--Icono graph -->
            <td> <i class="bi bi-bar-chart-fill"></i> </td>            <td>Salinidad</td>
            <!-- Toogle -->
            <td class="toggle"> <input type="checkbox" id="switch4"/>
                <label for="switch4">Toggle</label>
                <p>ERROR</p>
            </td>
        </tr>
        <tr>
            <!--Icono graph -->
            <td> <i class="bi bi-bar-chart-fill"></i> </td>            <td>Luminosidad</td>
            <!-- Toogle -->
            <td class="toggle"> <input type="checkbox" id="switch5"/>
                <label for="switch5">Toggle</label>
                <p>ERROR</p>
            </td>
        </tr>
        <tr>
            <!--Icono graph -->
            <td> <i class="bi bi-bar-chart-fill"></i> </td>            <td>Luminosidad</td>
            <!-- Toogle -->
            <td class="toggle"> <input type="checkbox" id="switch6"/>
                <label for="switch6">Toggle</label>
                <p>ERROR</p>
            </td>
        </tr>
        </tbody>
    </table>

</section>

<!----------------------------------------->
<!---------Inicio Sección Respuesta-------->
<!----------------------------------------->
<div class="contenedorRespuesta">

    <h2>Respuesta del Test</h2>

    <div class="sensorActivo">
            <canvas id="grafTest"></canvas>
    </div>
    <div class="sensorApagado">
        <!--Icono Exclamacion Octogon -->
        <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" fill="white" class="bi bi-exclamation-octagon-fill" viewBox="0 0 16 16">
            <path d="M11.46.146A.5.5 0 0 0 11.107 0H4.893a.5.5 0 0 0-.353.146L.146 4.54A.5.5 0 0 0 0 4.893v6.214a.5.5 0 0 0 .146.353l4.394 4.394a.5.5 0 0 0 .353.146h6.214a.5.5 0 0 0 .353-.146l4.394-4.394a.5.5 0 0 0 .146-.353V4.893a.5.5 0 0 0-.146-.353L11.46.146zM8 4c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995A.905.905 0 0 1 8 4zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>
        </svg>
        <h3>Sensor Apagado</h3>
    </div>
    <div class="sensorError">
        <!--Icono Exclamacion Triangulo -->
        <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" fill="white" class="bi bi-exclamation-triangle-fill" viewBox="0 0 16 16">
            <path d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>
        </svg>
        <h3>Advertencia:</h3>
        <h4>Se ha detectado una anomalía en el sensor</h4>
        <p>Asegúrese de que todas las conexiones del sensor estén correctamente conectadas
            y no haya cables sueltos o dañados.</p>
    </div>
</div>


<!----------------------------------------->
<!----------Inicio seccion Footer---------->
<!----------------------------------------->
<footer class="PiePagina">
    <div class="Copyright">Copyright 2023 All rights Reserved</div>
    <div class="Version">1.0.0.0</div>
</footer>


<!----------------------------------------->
<!--------------GRAFICA TESTEO------------->
<!----------------------------------------->
<script>var ctx = document.getElementById('grafTest').getContext('2d');
var myChart = new Chart(ctx, {
    type: 'line',
    data: {
        labels: ["14:10", "14:15", "14:20", "14:25", "14:30", "14:35", "14:40"],
        datasets: [{
            data: [80, 74, 62, 74, 94, 77, 72],
            backgroundColor: 'rgba(255, 0, 0, 0)',
            borderColor: "rgba(45,106,79,10)",
        }]
    },
    options: {
        scales: {
            xAxes: [{
                type: 'category',
                time: {
                    unit: 'hour',
                    displayFormats: {
                        hour: 'HH:mm'
                    },
                    tooltipFormat: 'HH:mm'
                }
            }],
            yAxes: [{
                type: 'linear',
                position: 'left',
                ticks: {
                    min: 0,
                    max: 100
                }
            }]
        },
        legend: {
            display: false
        }
    }
});
</script>
<!----------------------------------
       pop up cerrar sesion
----------------------------------->
<dialog id="cerrarsesion">
    <div class="cerrarsesionpopup">
        <h3>¿Desea cerrar sesión?</h3>
        <div class="botonespopup">
            <button class="botonpopup" id="si-cerrar">Si</button>
            <button class="botonpopup" id="no-cerrar">No</button>
        </div>
    </div>
</dialog>
<script>
    const botoncerrarsesion = document.getElementById("boton-cerrarsesion");
    const popupcerrar = document.getElementById('cerrarsesion');
    const botonsi = document.getElementById('si-cerrar');
    const botonno = document.getElementById('no-cerrar');
    //se recogen los identificadores de la maquetacion y se agrega un listener para escuchar
    //cuando el usuario hace click y se debe mostrar o cerrar el pop up

    botoncerrarsesion.addEventListener('click', () => {
        popupcerrar.showModal();
        popupcerrar.style.display = "block";
    });

    botonno.addEventListener('click', () => {
        popupcerrar.close();
        popupcerrar.style.display = "none";
    });

    botonsi.addEventListener('click', () => {
        window.location.replace('../../index.html')
    }); //le manda a la landing page si confirma el cierre de sesion
</script>

</body>
</html>